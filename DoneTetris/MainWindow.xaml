<Window x:Class="DoneTetris.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="DoneTetris" WindowState="Maximized"
        Background="#1E1E1E"
        Loaded="MainWindow_Loaded">

    <Grid Margin="10">

        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="12*"/>
            <RowDefinition Height="12*"/>
            <RowDefinition Height="14*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="35*"/>
            <ColumnDefinition Width="83*"/>
            <ColumnDefinition Width="59*"/>
            <ColumnDefinition Width="284*"/>
            <ColumnDefinition Width="142*"/>
            <ColumnDefinition Width="142*"/>
            <ColumnDefinition Width="35*"/>
        </Grid.ColumnDefinitions>

        <Border Grid.Row="1" Grid.Column="1" Padding="12" CornerRadius="12"
                BorderThickness="1" BorderBrush="Gray" Background="#111" 
                Margin="8,8,8,8" Grid.ColumnSpan="2">

            <StackPanel>
                <TextBlock Text="スコア" Opacity="0.8" FontSize="24" Foreground="Gray" HorizontalAlignment="Center"/>
                <TextBlock x:Name="ScoreText" Text="0" FontSize="40" Foreground="White" 
                           Margin="0,50,0,0" HorizontalAlignment="Center"/>
            </StackPanel>
        </Border>

        <Border Grid.Row="1" Grid.Column="5" Padding="12" CornerRadius="12"
        BorderThickness="1" BorderBrush="Gray" Background="#111" Margin="8,8,8,8">
            <StackPanel>
                <TextBlock Text="今日のDone" Opacity="0.8" FontSize="18" Foreground="Gray" HorizontalAlignment="Center"/>
                <TextBlock x:Name="TodayCountText" Text="0" FontSize="40" Foreground="White" 
                           Margin="0,50,0,0" HorizontalAlignment="Center"/>
            </StackPanel>
        </Border>

        <Border Grid.Row="2" Grid.Column="1" Padding="12" CornerRadius="12" 
                BorderThickness="1" BorderBrush="Gray" Background="#111" Margin="8,8,8,8" 
                Grid.ColumnSpan="2">
            <StackPanel>
                <TextBlock Text="継続日数" Opacity="0.8" FontSize="24" Foreground="Gray" HorizontalAlignment="Center"/>
                <TextBlock x:Name="StreakText" Text="0" FontSize="40" Foreground="White" 
                           Margin="0,50,0,0" HorizontalAlignment="Center"/>
            </StackPanel>
        </Border>

        <Border Grid.Row="2" Grid.Column="5" Padding="12" CornerRadius="12"
                BorderThickness="1" BorderBrush="Gray" Background="#111" Margin="8,8,8,8">
            <StackPanel>
                <TextBlock Text="総Done" Opacity="0.8" FontSize="24" Foreground="Gray" HorizontalAlignment="Center"/>
                <TextBlock x:Name="TotalCountText" Text="0" FontSize="40" Foreground="White" 
                           Margin="0,50,0,0" HorizontalAlignment="Center"/>
            </StackPanel>
        </Border>

        <Border x:Name="TetrisBorder" Grid.Column="3" Grid.RowSpan="5" 
                BorderBrush="Gray" BorderThickness="2" Background="#111" 
                MouseLeftButtonDown="TetrisArea_Click"
                MouseRightButtonDown="TetrisArea_RightClick" 
                Margin="0,14,0,14">
            <Canvas x:Name="TetrisCanvas"/>
        </Border>

        <Border Grid.Row="1" Grid.Column="4" Grid.RowSpan="2"
                BorderBrush="Gray" BorderThickness="2" Background="#111" Margin="8,8,8,8">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <TextBlock Text="次のミノ" Foreground="Gray" FontSize="28" HorizontalAlignment="Center"/>
                <TextBlock x:Name="NextMinoText" Text="-" Foreground="White" FontSize="40" 
                           HorizontalAlignment="Center" Margin="0,6,0,0"/>
                <TextBlock x:Name="NextMinoOrientationText" Text="横" Foreground="Gray"  FontSize="28"
                           HorizontalAlignment="Center"/>
            </StackPanel>
        </Border>

        <Border Grid.Row="3" 
                Grid.Column="0" 
                Margin="12,12,12,12"
                Grid.ColumnSpan="3">
            <Border.Effect>
                <DropShadowEffect BlurRadius="5" ShadowDepth="0" Opacity="0.25"/>
            </Border.Effect>
            <Grid>
                <Image x:Name="TitleImage"
                       Source="pack://application:,,,/Assets/Images/TitleImage.png"
                       Stretch="Uniform"/>
                
            </Grid>
        </Border>

        <Border Grid.Row="3" Grid.Column="4" Grid.ColumnSpan="2"
                Margin="12,12,12,12" BorderBrush="Gray" BorderThickness="2" Background="#111"
                CornerRadius="8" Padding="10">

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <StackPanel Grid.Row="0">
                    <TextBlock Text="Done追加入力(「。」区切り / Enterで保存)"
                               Foreground="Gray" 
                               FontSize="12"/>
                    <TextBox x:Name="DoneInputBox"
                             TextWrapping="Wrap"
                             AcceptsReturn="False"
                             Margin="0,6,0,0"
                             FontSize="14"
                             Foreground="White"
                             Background="#222"
                             BorderBrush="Gray"
                             BorderThickness="2"
                             Padding="8"
                             KeyDown="DoneInputBox_KeyDown"/>
                    <TextBlock x:Name="InputWarningText"
                               Text="ここにあなたが成し遂げたことを入力しましょう！"
                               Foreground="Orange"
                               Margin="2,6,0,0"
                               Visibility="Collapsed"/>
                </StackPanel>

                <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,10,0,8">
                    <Button x:Name="DeleteSelectedButton"
                            Content="選択を削除"
                            Foreground="White"
                            Background="#181818"
                            Padding="10,6"
                            Click="DeleteSelectedButton_Click"/>
                    <TextBlock Text="チェックされたDoneを削除" Foreground="Gray" Margin="10,6,0,0"/>
                </StackPanel>

                <ListView x:Name="TodayDoneListView" 
                          Grid.Row="2"
                          Background="#111" 
                          BorderBrush="Gray" 
                          BorderThickness="1">
                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="Foreground" Value="White"/>
                            <Setter Property="Background" Value="Transparent"/>
                            <Setter Property="BorderThickness" Value="0"/>
                        </Style>
                    </ListView.ItemContainerStyle>
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <Grid Margin="6">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <CheckBox IsChecked="{Binding IsSelected}"
                                          VerticalAlignment="Top" 
                                          Margin="0,2,10,0"/>

                                <TextBlock Grid.Column="1"
                                           Text="{Binding DoneText}"
                                           TextWrapping="Wrap"/>
                            </Grid>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </Grid>
        </Border>


    </Grid>
</Window>
